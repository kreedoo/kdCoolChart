;(function(){
    $(function(){
        $('#cool-chart-full-pie-1').kdCoolChart({
            type: 'full-pie',
            links: {
                items: '#cool-chart-full-pie-items-1 [js-cool-chart-data-item]'
            },
            datas: [
                {
                    value: 0.873,
                    color: '#4082E8'
                },
                {
                    value: 0.127,
                    color: '#FFD400'
                },
                {
                    value: 0,
                    color: '#05DB5C'
                }
            ]
        });
        $('#cool-chart-full-pie-2').kdCoolChart({
            type: 'full-pie',
            links: {
                items: '#cool-chart-full-pie-items-2 [js-cool-chart-data-item]'
            },
            datas: [
                {
                    value: 0.823,
                    color: '#4082E8'
                },
                {
                    value: 0.127,
                    color: '#FFD400'
                },
                {
                    value: 0.05,
                    color: '#05DB5C'
                }
            ]
        });
        $('#cool-chart-half-pie-1').kdCoolChart({
            type: 'half-pie',
            links: {
                items: '#cool-chart-half-pie-items-1 [js-cool-chart-data-item]'
            },
            datas: [
                {
                    value: 0.823,
                    color: '#4082E8'
                },
                {
                    value: 0.177,
                    color: '#FFD400'
                }
            ]
        });
        $('#cool-chart-line-1').kdCoolChart({
            type: 'line',
            links: {
                items: '#cool-chart-line-items-1 [js-cool-chart-data-item]',
                popup: '#cool-chart-line-popup-1',
                popupItems: '[js-cool-chart-data-item]'
            },
            datas: [
                {// one month sibor
                    value: ['1.09','1.02','1.02','1.09','1.09','0.90','0.90','0.90','0.96','0.84','0.96','0.96','0.96','1.09','1.46','1.77','2.02','2.02','1.96','1.77','1.90','2.02','2.09','2.00','1.69','1.38','1.13','1.25','1.06','0.94','0.88','1.00','1.88','1.13','0.69','0.75','0.44','0.44','0.50','0.44','0.44','0.44','0.44','0.44','0.44','0.44','0.44','0.44','0.44','0.44','0.44','0.38','0.38','0.38','0.38','0.38','0.38','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.19','0.19','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.38','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.31','0.33','0.35','0.35','0.35','0.36','0.35','0.36','0.36','0.36','0.34','0.34','0.34','0.34','0.37','0.38','0.42','0.60','0.70','0.88','0.77','0.71','0.70','0.76','0.95','1.02','0.95','0.96','1.05','1.12','1.12','0.80'],
                    color: '#4082E8'
                },
                {// sibor
                    value: ['1.02','1.02','0.96','0.96','0.96','0.84','0.84','0.90','0.96','0.90','0.96','0.96','0.96','1.02','1.46','1.77','2.02','1.90','1.84','1.65','1.77','1.90','1.84','2.02','1.69','1.56','1.31','1.44','1.25','1.19','1.00','1.19','1.88','1.25','0.81','1.00','0.69','0.69','0.69','0.69','0.69','0.69','0.69','0.69','0.69','0.69','0.69','0.69','0.69','0.69','0.69','0.63','0.56','0.56','0.56','0.56','0.50','0.44','0.44','0.44','0.44','0.44','0.44','0.44','0.44','0.44','0.44','0.44','0.35','0.37','0.38','0.38','0.39','0.39','0.39','0.39','0.39','0.40','0.39','0.38','0.38','0.38','0.38','0.38','0.38','0.38','0.38','0.38','0.37','0.37','0.37','0.37','0.37','0.39','0.40','0.40','0.40','0.41','0.40','0.41','0.40','0.40','0.40','0.40','0.40','0.41','0.41','0.43','0.46','0.68','0.79','1.02','0.89','0.83','0.82','0.88','1.07','1.14','1.07','1.08','1.19','1.25','1.25','1.06'],
                    color: '#FFD400'
                },
                {// sor
                    value: ['1.00','0.90','0.80','0.85','0.90','0.45','0.70','0.80','1.00','0.75','0.80','0.70','0.90','0.90','1.20','1.65','2.00','1.80','1.65','1.30','1.80','1.90','1.70','1.60','1.80','1.40','1.50','1.60','1.25','1.30','1.10','1.25','1.35','1.73','1.30','0.80','1.50','0.88','1.08','1.40','0.90','0.68','0.70','0.60','0.65','0.50','0.54','0.64','0.61','0.55','0.47','0.48','0.40','0.45','0.43','0.40','0.34','0.28','0.25','0.28','0.27','0.13','0.24','0.28','0.27','0.24','0.21','0.21','0.03','0.23','0.41','0.40','0.53','0.42','0.42','0.37','0.37','0.31','0.38','0.35','0.41','0.38','0.32','0.32','0.31','0.32','0.29','0.21','0.27','0.26','0.22','0.24','0.22','0.22','0.21','0.20','0.20','0.21','0.22','0.22','0.21','0.21','0.22','0.23','0.23','0.24','0.25','0.42','0.75','0.73','0.85','1.08','0.85','0.82','0.88','0.98','1.41','1.38','1.42','1.43','1.42','1.26','1.37','0.92'],
                    color: '#05DB5C'
                },
                {// sor
                    value: ['0.50','0.40','0.30','0.35','0.40','0.45','0.20','0.30','0.50','0.25','0.30','0.20','0.40','0.40','0.70','1.15','1.50','1.30','1.15','0.80','1.30','1.40','1.20','1.10','2.10','1.90','2.00','2.10','1.75','1.80','1.60','1.75','1.85','2.17','1.80','1.30','2.00','1.38','1.58','1.90','1.40','1.18','1.20','1.10','1.15','1.00','1.04','1.14','1.11','1.05','0.97','0.98','0.90','0.95','0.93','0.90','0.84','0.78','0.75','0.78','0.77','0.63','0.74','0.78','0.77','0.74','0.71','0.71','0.53','0.73','0.91','0.90','1.03','0.92','0.92','0.87','0.87','0.81','0.88','0.85','0.91','0.88','0.82','0.82','0.81','0.82','0.79','0.71','0.77','0.76','0.72','0.74','0.72','0.72','0.71','0.70','0.70','0.71','0.72','0.72','0.71','0.71','0.72','0.73','0.73','0.74','0.75','0.92','1.25','1.23','1.35','1.58','1.35','1.32','1.38','1.48','1.91','1.88','1.92','1.93','1.92','1.76','1.87','1.42'],
                    color: '#FF5969'
                }
            ],
            horizontalAllLabels: function(){
                var labels = [],
                    format = 'DD - MMM - YYYY',
                    startDate = moment('2013-01-01', 'YYYY-MM').format(format);
                for(var i = 0; i < this.datas[0].value.length; i++){
                    if(i > 0){
                        startDate = moment(startDate, format).add(7, 'days').format(format);
                    }
                    labels[i] = startDate;
                }
                return labels;
            },
            horizontalLabels: function(){
                var labels = [],
                    length = 6,
                    index,
                    seperate;

                seperate = Math.ceil(this.datas[0].value.length / (length - 1));
                for(var i = 0; i < length; i++){
                    if(i === 0){
                        index = 0
                    }else if(i === length - 1){
                        index = this.datas[0].value.length - 1;
                    }else{
                        index += seperate;
                    }
                    labels.push({
                        index: index,
                        label: moment(this.horizontalAllLabels[index], 'DD - MMM - YYYY').format('MMM YYYY')
                    });
                }
                return labels;
            },
            verticalLabels: function(){
                var labels = [];
                for(var i = this.verticalValueMin; i < this.verticalValueMax; i += this.verticalValueUnit){
                    labels.push(i.toFixed(1));
                }
                return labels;
            }
        });
        $('#cool-chart-rect-1').kdCoolChart({
            type: 'rect',
            links: {
                items: '#cool-chart-rect-items-1 [js-cool-chart-data-item]',
                popup: '#cool-chart-rect-popup-1',
                popupItems: '[js-cool-chart-data-item]'
            },
            // whichOneIsLines: [2],
            // colors: ['#4082E8', '#FFD400', '#f00'],
            datas: [
                {
                    value: ['0.56','0.57','0.59','0.61','0.64','0.66','0.69','0.70','0.74','0.77','0.79','0.56','0.57','0.59','0.61','0.64','0.66','0.69','0.70','0.74','0.77','0.79','0.56','0.57','0.59','0.61','0.64','0.66','0.69','0.70','0.74','0.77','0.79','0.56','0.57'],
                    color: '#4082E8'
                },
                {
                    value: ['0.44','0.43','0.41','0.39','0.36','0.34','0.31','0.30','0.26','0.23','0.21','0.44','0.43','0.41','0.39','0.36','0.34','0.31','0.30','0.26','0.23','0.21','0.44','0.43','0.41','0.39','0.36','0.34','0.31','0.30','0.26','0.23','0.21','0.44','0.43'],
                    color: '#FFD400'
                },
                {
                    value: ['0.98','0.95','0.92','0.88','0.82','0.74','0.66','0.55','0.42','0.25','0.03','0.98','0.95','0.92','0.88','0.82','0.74','0.66','0.55','0.42','0.25','0.03','0.98','0.95','0.92','0.88','0.82','0.74','0.66','0.55','0.42','0.25','0.98','0.95','0.03'],
                    color: '#f00'
                }
            ],
            horizontalAllLabels: function(){
                var labels = [], i;

                for(i = 1; i <= this.datas[0].value.length; i++){
                    labels[i - 1] = i;
                }

                return labels;
            },
            horizontalLabels: function(){
                var labels = [], i;
                for(i = 1; i <= this.datas[0].value.length; i++){
                    if((i - 1) % 2 !== 0) continue;
                    labels.push({
                        index: i - 1,
                        label: i
                    });
                }
                return labels;
            },
            callbacks: {
                beforeShowLine: function(){console.log('before');return true;},
                afterShowLine: function(){console.log('after');}
            }
        });
    });
}());